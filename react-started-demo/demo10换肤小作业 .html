<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>react 入门示例</title>
	<style type="text/css">		
		*{
			margin:0px;padding:0px;list-style:none;
		}
		.img-container{
			width:1178px;
			margin:100px auto;
		}
		ul{
			margin-right:-10px;
		}
		ul li{
			float:left;
			width:188px;
			height:108px;
			margin-right:10px;
			margin-bottom:10px;
		}
		.bg{
			position:absolute;
			top:0px;
			left:0px;
			bottom:0px;
			right:0px;
			background-size:cover;
			/*background-attachment:fixed;*/
			background-repeat:no-repeat;
			/*background-image: url("imgs/b1.jpg");*/
			z-index: -1;
		}
	</style>
</head>
<script src ="build/react.js" type="text/javascript"></script>
<script src ="build/react-dom.js" type="text/javascript"></script>
<script src ="build/browser.min.js" type="text/javascript"></script>
<body>
	<div id="app">
		
	</div>

	<script type="text/babel">
		var Skin = React.createClass({
			changeImg: function(e){
				/*console.log(e);*/
				var id = e.target.getAttribute("data-id");
				this.setState({
					num:id
				})
			},
			//设置初始化状态
			getInitialState: function(){
				return{
					num:'2'
				}
			},
			setBgStyle: function(){
				return{
					backgroundImage: 'url(imgs/b' + this.state.num +　'.jpg)'
				}
			},
			
			createImageLis:function(){
				//创建12个li
				var result = [];
				var ctx = 0;
				for(var i = 0; i < 12; i++){
					ctx = i;
					result.push(
							<li key={i} >
								<img data-id={ctx} onClick= {this.changeImg} src={"imgs/s" + ctx +".jpg"} />
							</li>
						)
				}
				return result;
			},

			getInitialState: function() {
				return {
					num: 0 
				};
			},

			render: function(){
				//渲染视图
				return(
					<div className="contaier">
						<div className="bg" style={this.setBgStyle()}></div>
						<div className = "img-container">
							<ul>
								{/*创建li元素*/}
								{this.createImageLis()}
							</ul>
						</div>

					</div>
					)
			}
		})	

		ReactDOM.render(<Skin />, document.getElementById('app'));
			
	</script>
</body>
</html>