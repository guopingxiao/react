## react 组件开发


组件的生命周期，分为穿件期，存在期，销毁期

在组件创建的阶段进入该阶段；

存在期，在组件已经创建，内部的状态发生改变进入该阶段；

销毁期，在组件从页面中删除，进入该阶段


### 1. 组件的创建期
在创建的时候，会进入五个阶段

第一个阶段  获取默认的属性 getDefaultProps， <Nav title="xgp"  />，钩子函数解析属性
	组件还没创建出来，我们看不到组件内部的的对象属性；

第二阶段， 获取默认的状态getDefaultState
	组件内部数据已经创建出来，我么还可以访问到组价的实例化对象；
	在该阶段，已经解析了属性，因此可以将属性复制给状态（很常见的位状态传递数据的方式）

	在组件外部只能为组件添加属性数据，不能添加状态数据，因为处理状态的阶段在处理属性数据之后，可以在状态阶段获得属性数据；
第三个阶段， 组件要被构建 componentWillMount 
	指的是组件的虚拟dom
	因为在这个阶段，状态数据和属性数据都设置完毕，所以我们可以在这个阶段处理状态与属性数据；  
第四个阶段，组件渲染输出虚拟dom render
	一定要return返回虚拟dom树，所有的dom都要在一个父dom中；

	后面的阶段可以获得前面阶段的组件的属性与状态；

第五个阶段， 组件已经创建完成，componentDidMount
	组件已经创建完成虚拟dom，这个阶段我们可以操作dom元素；
	操作的结果会直接在页面中展示；
 
	ReactDOM.findDOMNode 根据虚拟dom获取真实的dom元素
	参数为this,就可以访问组件实例化对象了；

以上五个阶段所有方法的参数都是空的；并且除了第一阶段方法的作用域为构造函数外，其他的都是实例化对象；

子组件

	React中虚拟dom根html中真实的dom是一样的，真实dom可以设置属性，添加事件和属性，虚拟dom也可以像真实dom一样添加子元素，他们的行为表现是一致的。

	组件也可以是看做是一个虚拟dom，所以组件是可以嵌套的；
	<Nav>
		<Title></Title>
	</Nav>
父组件像子组件传递的数据通常是属性与状态数据，所有未子组件添加的数据分为两种：一种是属性，一种是状态。

当传递属性时，<Title data = {this.props.data} />,这种属性的传递通常来说只能传递一次，（除非父组件又作为其他组件的子组件发生了属性改变；）

当传递状态时，<Title data = {this.state.data} />这种状态数据传递的特征是通常父组件中状态的改变会让子组件发生一次属性的改变，会触发子组件进入存在期，并引发子组件存在期的五个阶段方法的调用；

当传递的是自定义数据时，<Title data = />data属性永远无法改变
### 2. 组件的存在期
存在期分为5个阶段

第一阶段，组件将要接收新的属性 componentWillReceiveProps
	作用域是实例化对象，第一个参数表示新的属性。
	在组件内部更新状态时，不会更新该方法
第二阶段，组件是否应该更新 shouldComponentUpdate
	作用域是实例化对象，第一个参数表示新的属性，第二个参数表示新的状态，通常做组件的更新优化，返回true表示组件需要更新；如果没必要更新，后面的三个方法就不用执行了；直接在该方法中返回false。
第三阶段，组件将要被更新 componentWillUpdate
	作用域是实例化对象，第一个参数表示新的属性，第二个参数表示新的状态
第四阶段，组件更新，输出虚拟dom，Render
	作用域是实例化对象，第一个参数表示新的属性
第五阶段，组件更新完毕 componentDidUpdate
	作用域是实例化对象，第一个参数表示组件前一个属性，第二个参数表示组件前一个状态状态

### 3. 组件的销毁期

给时期只有一个方法
组件即将被销毁时调用该方法，componentWillUnmount
	作用域是实例化对象，参数为空，当组件从页面中删除时，触发该阶段

## 非元素属性

大致有三个元素属性
key:表示为元素设置绑定的reactid
rel:对虚拟dom的一个引用，在组件方法中可以根据这个方法来快速获取组件中的元素
dangerouslySetInnerHTML 表示对虚拟dom设置内容值（这个可以是人一直，html片段，行内样式等）

这个属性时最特殊的一个，因为该属性必须是一个对象，并且里面的__html是内容值；